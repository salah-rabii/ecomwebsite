{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\salah\\\\Downloads\\\\project - Copie\\\\src\\\\components\\\\product\\\\ProductListWithCategoryCount.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { getAllProducts, countProductsByCategory } from '../../services/productService';\nimport './ProductListWithCategoryCount.css';\nconst ProductCard = ({\n  product\n}) => {\n  return /*#__PURE__*/React.createElement(motion.div, {\n    className: \"product-card\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, \"Price: $\", product.price));\n};\nconst ProductListWithCategoryCount = () => {\n  const [products, setProducts] = useState([]);\n  const [categoryCounts, setCategoryCounts] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [allProductsData, kids, men, women] = await Promise.all([getAllProducts(), countProductsByCategory(1), countProductsByCategory(2), countProductsByCategory(3)]);\n        setProducts(allProductsData.content || allProductsData);\n        setCategoryCounts({\n          kids,\n          men,\n          women\n        });\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loader-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, \"Chargement des produits...\"));\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 12\n      }\n    }, \"Erreur : \", error);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Tous les Produits\"), /*#__PURE__*/React.createElement(motion.div, {\n    className: \"category-count-card\",\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      delay: 0.3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Nombre de produits par cat\\xE9gorie\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"\\uD83D\\uDC76 Enfants : \", categoryCounts.kids), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"\\uD83D\\uDC68 Hommes : \", categoryCounts.men), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"\\uD83D\\uDC69 Femmes : \", categoryCounts.women))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(ProductCard, {\n    key: product.id,\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default ProductListWithCategoryCount;","map":{"version":3,"names":["React","useState","useEffect","motion","getAllProducts","countProductsByCategory","ProductCard","product","createElement","div","className","initial","opacity","y","animate","transition","duration","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","price","ProductListWithCategoryCount","products","setProducts","categoryCounts","setCategoryCounts","loading","setLoading","error","setError","fetchData","allProductsData","kids","men","women","Promise","all","content","err","message","delay","map","key","id"],"sources":["C:/Users/salah/Downloads/project - Copie/src/components/product/ProductListWithCategoryCount.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { getAllProducts, countProductsByCategory } from '../../services/productService';\r\nimport './ProductListWithCategoryCount.css';\r\n\r\nconst ProductCard = ({ product }) => {\r\n  return (\r\n    <motion.div\r\n      className=\"product-card\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.4 }}\r\n    >\r\n      <h3>{product.name}</h3>\r\n      <p>Price: ${product.price}</p>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst ProductListWithCategoryCount = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [categoryCounts, setCategoryCounts] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [allProductsData, kids, men, women] = await Promise.all([\r\n          getAllProducts(),\r\n          countProductsByCategory(1),\r\n          countProductsByCategory(2),\r\n          countProductsByCategory(3),\r\n        ]);\r\n\r\n        setProducts(allProductsData.content || allProductsData);\r\n        setCategoryCounts({ kids, men, women });\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loader-container\">\r\n        <div className=\"spinner\" />\r\n        <p>Chargement des produits...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">Erreur : {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-list-container\">\r\n      <h2>Tous les Produits</h2>\r\n\r\n      <motion.div\r\n        className=\"category-count-card\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 0.3 }}\r\n      >\r\n        <h3>Nombre de produits par catÃ©gorie</h3>\r\n        <ul>\r\n          <li>ðŸ‘¶ Enfants : {categoryCounts.kids}</li>\r\n          <li>ðŸ‘¨ Hommes : {categoryCounts.men}</li>\r\n          <li>ðŸ‘© Femmes : {categoryCounts.women}</li>\r\n        </ul>\r\n      </motion.div>\r\n\r\n      <div className=\"product-grid\">\r\n        {products.map((product) => (\r\n          <ProductCard key={product.id} product={product} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListWithCategoryCount;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}