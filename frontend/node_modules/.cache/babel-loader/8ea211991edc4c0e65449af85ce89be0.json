{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\salah\\\\Downloads\\\\project - Copie\\\\src\\\\components\\\\product\\\\EditProductForm.jsx\";\n// import React, { useState, useEffect } from 'react';\n// import { updateProduct } from '../../services/productService';\n\n// const EditProductForm = ({ product, onClose, onProductUpdated }) => {\n//   const [editedProduct, setEditedProduct] = useState({\n//     name: product.name,\n//     price: product.price,\n//     description: product.description,\n//     discount: product.discount,\n//     gender: product.gender,\n//     image_url: product.image_url,\n//     size: product.size,\n//     stock: product.stock,\n//     categoryId: product.categoryId || 2\n//   });\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(null);\n\n//   // Map gender to category for the form\n//   const getCategory = (gender) => {\n//     if (gender === 'men') return 'men';\n//     if (gender === 'women') return 'women';\n//     if (gender === 'kids') return 'kids';\n//     return '';\n//   };\n\n//   useEffect(() => {\n//     setEditedProduct({\n//       name: product.name,\n//       price: product.price,\n//       description: product.description,\n//       discount: product.discount,\n//       gender: product.gender,\n//       image_url: product.image_url,\n//       size: product.size,\n//       stock: product.stock,\n//       categoryId: product.categoryId || 2\n//     });\n//   }, [product]);\n\n//   const handleInputChange = (e) => {\n//     const { name, value } = e.target;\n//     setEditedProduct({\n//       ...editedProduct,\n//       [name]: name === 'price' || name === 'stock' || name === 'discount' ? Number(value) : value\n//     });\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n\n//     // Map category to gender for consistency with your data model\n//     let genderValue = editedProduct.gender;\n//     if (e.target.category) {\n//       if (e.target.category.value === 'men') genderValue = 'men';\n//       if (e.target.category.value === 'women') genderValue = 'women';\n//       if (e.target.category.value === 'kids') genderValue = 'kids';\n//     }\n\n//     // Create product DTO to match your backend expectations\n//     const productDTO = {\n//       id: product.id,\n//       name: editedProduct.name,\n//       price: Number(editedProduct.price),\n//       description: editedProduct.description,\n//       discount: Number(editedProduct.discount),\n//       gender: genderValue,\n//       image_url: editedProduct.image_url,\n//       size: editedProduct.size,\n//       stock: Number(editedProduct.stock),\n//       categoryId: editedProduct.categoryId\n//     };\n\n//     try {\n//       const updatedProduct = await updateProduct(product.id, productDTO);\n//       onProductUpdated(updatedProduct);\n//       onClose();\n//     } catch (err) {\n//       setError(`Failed to update product: ${err.message}`);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div className=\"popup-overlay\">\n//       <div className=\"popup-content\">\n//         <h3>Edit Product</h3>\n//         {error && <div className=\"error-message\">{error}</div>}\n//         <form onSubmit={handleSubmit}>\n//           <div className=\"form-group\">\n//             <label htmlFor=\"name\">Name</label>\n//             <input\n//               type=\"text\"\n//               name=\"name\"\n//               id=\"name\"\n//               value={editedProduct.name}\n//               onChange={handleInputChange}\n//               required\n//             />\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"price\">Price</label>\n//             <input\n//               type=\"number\"\n//               name=\"price\"\n//               id=\"price\"\n//               value={editedProduct.price}\n//               onChange={handleInputChange}\n//               required\n//             />\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"category\">Category</label>\n//             <select\n//               id=\"category\"\n//               name=\"category\"\n//               value={getCategory(editedProduct.gender)}\n//               onChange={handleInputChange}\n//               required\n//             >\n//               <option value=\"\">Select category</option>\n//               <option value=\"men\">Men</option>\n//               <option value=\"women\">Women</option>\n//               <option value=\"kids\">Kids</option>\n//             </select>\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"description\">Description</label>\n//             <textarea\n//               id=\"description\"\n//               name=\"description\"\n//               rows=\"4\"\n//               value={editedProduct.description}\n//               onChange={handleInputChange}\n//               required\n//             ></textarea>\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"discount\">Discount</label>\n//             <select\n//               id=\"discount\"\n//               name=\"discount\"\n//               value={editedProduct.discount}\n//               onChange={handleInputChange}\n//             >\n//               <option value=\"0\">No</option>\n//               <option value=\"5\">5%</option>\n//               <option value=\"10\">10%</option>\n//               <option value=\"20\">20%</option>\n//               <option value=\"30\">30%</option>\n//               <option value=\"40\">40%</option>\n//               <option value=\"50\">50%</option>\n//             </select>\n//           </div>\n\n//           <div className=\"form-group\">\n//             <label htmlFor=\"stock\">Stock</label>\n//             <input\n//               type=\"number\"\n//               name=\"stock\"\n//               id=\"stock\"\n//               value={editedProduct.stock}\n//               onChange={handleInputChange}\n//               required\n//             />\n//           </div>\n\n//           <div className=\"form-buttons\">\n//             <button\n//               type=\"submit\"\n//               className=\"btn primary\"\n//               disabled={loading}\n//             >\n//               {loading ? 'Updating...' : 'Update product'}\n//             </button>\n//             <button\n//               type=\"button\"\n//               className=\"btn cancel\"\n//               onClick={onClose}\n//             >\n//               Cancel\n//             </button>\n//           </div>\n//         </form>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default EditProductForm;\n\nimport React, { useState } from 'react';\nimport { updateProduct } from '../../services/productService';\nconst EditProductForm = ({\n  product,\n  onClose,\n  onProductUpdated\n}) => {\n  const [formData, setFormData] = useState({\n    id: product.id,\n    name: product.name || '',\n    price: product.price || 0,\n    gender: product.gender || '',\n    description: product.description || '',\n    discount: product.discount || 0,\n    image_url: product.image_url || './images/shops/shop-1.png',\n    size: product.size || 'M',\n    stock: product.stock || 10,\n    categoryId: product.categoryId || 2\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: name === 'price' || name === 'stock' || name === 'discount' ? Number(value) : value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    try {\n      const updatedProduct = await updateProduct(product.id, formData);\n      onProductUpdated(updatedProduct);\n      onClose();\n    } catch (err) {\n      setError(`Failed to update product: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, \"Edit Product\"), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"edit-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    id: \"edit-name\",\n    value: formData.name,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"edit-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"price\",\n    id: \"edit-price\",\n    value: formData.price,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"edit-gender\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"edit-gender\",\n    name: \"gender\",\n    value: formData.gender,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  }, \"Select category\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"men\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 15\n    }\n  }, \"Men\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"women\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, \"Women\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"kids\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, \"Kids\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"unisex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, \"Unisex\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"edit-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"edit-description\",\n    name: \"description\",\n    rows: \"4\",\n    value: formData.description,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"edit-discount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, \"Discount\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"edit-discount\",\n    name: \"discount\",\n    value: formData.discount,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 15\n    }\n  }, \"No\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 15\n    }\n  }, \"5%\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 15\n    }\n  }, \"10%\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, \"20%\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 15\n    }\n  }, \"30%\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 15\n    }\n  }, \"40%\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 15\n    }\n  }, \"50%\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"edit-stock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, \"Stock\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"stock\",\n    id: \"edit-stock\",\n    value: formData.stock,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn primary\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 13\n    }\n  }, loading ? 'Updating...' : 'Update product'), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn cancel\",\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }\n  }, \"Cancel\")))));\n};\nexport default EditProductForm;","map":{"version":3,"names":["React","useState","updateProduct","EditProductForm","product","onClose","onProductUpdated","formData","setFormData","id","name","price","gender","description","discount","image_url","size","stock","categoryId","loading","setLoading","error","setError","handleInputChange","e","value","target","Number","handleSubmit","preventDefault","updatedProduct","err","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","required","rows","disabled","onClick"],"sources":["C:/Users/salah/Downloads/project - Copie/src/components/product/EditProductForm.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { updateProduct } from '../../services/productService';\r\n\r\n// const EditProductForm = ({ product, onClose, onProductUpdated }) => {\r\n//   const [editedProduct, setEditedProduct] = useState({\r\n//     name: product.name,\r\n//     price: product.price,\r\n//     description: product.description,\r\n//     discount: product.discount,\r\n//     gender: product.gender,\r\n//     image_url: product.image_url,\r\n//     size: product.size,\r\n//     stock: product.stock,\r\n//     categoryId: product.categoryId || 2\r\n//   });\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [error, setError] = useState(null);\r\n\r\n//   // Map gender to category for the form\r\n//   const getCategory = (gender) => {\r\n//     if (gender === 'men') return 'men';\r\n//     if (gender === 'women') return 'women';\r\n//     if (gender === 'kids') return 'kids';\r\n//     return '';\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     setEditedProduct({\r\n//       name: product.name,\r\n//       price: product.price,\r\n//       description: product.description,\r\n//       discount: product.discount,\r\n//       gender: product.gender,\r\n//       image_url: product.image_url,\r\n//       size: product.size,\r\n//       stock: product.stock,\r\n//       categoryId: product.categoryId || 2\r\n//     });\r\n//   }, [product]);\r\n\r\n//   const handleInputChange = (e) => {\r\n//     const { name, value } = e.target;\r\n//     setEditedProduct({\r\n//       ...editedProduct,\r\n//       [name]: name === 'price' || name === 'stock' || name === 'discount' ? Number(value) : value\r\n//     });\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n//     setError(null);\r\n\r\n//     // Map category to gender for consistency with your data model\r\n//     let genderValue = editedProduct.gender;\r\n//     if (e.target.category) {\r\n//       if (e.target.category.value === 'men') genderValue = 'men';\r\n//       if (e.target.category.value === 'women') genderValue = 'women';\r\n//       if (e.target.category.value === 'kids') genderValue = 'kids';\r\n//     }\r\n\r\n//     // Create product DTO to match your backend expectations\r\n//     const productDTO = {\r\n//       id: product.id,\r\n//       name: editedProduct.name,\r\n//       price: Number(editedProduct.price),\r\n//       description: editedProduct.description,\r\n//       discount: Number(editedProduct.discount),\r\n//       gender: genderValue,\r\n//       image_url: editedProduct.image_url,\r\n//       size: editedProduct.size,\r\n//       stock: Number(editedProduct.stock),\r\n//       categoryId: editedProduct.categoryId\r\n//     };\r\n\r\n//     try {\r\n//       const updatedProduct = await updateProduct(product.id, productDTO);\r\n//       onProductUpdated(updatedProduct);\r\n//       onClose();\r\n//     } catch (err) {\r\n//       setError(`Failed to update product: ${err.message}`);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"popup-overlay\">\r\n//       <div className=\"popup-content\">\r\n//         <h3>Edit Product</h3>\r\n//         {error && <div className=\"error-message\">{error}</div>}\r\n//         <form onSubmit={handleSubmit}>\r\n//           <div className=\"form-group\">\r\n//             <label htmlFor=\"name\">Name</label>\r\n//             <input\r\n//               type=\"text\"\r\n//               name=\"name\"\r\n//               id=\"name\"\r\n//               value={editedProduct.name}\r\n//               onChange={handleInputChange}\r\n//               required\r\n//             />\r\n//           </div>\r\n\r\n//           <div className=\"form-group\">\r\n//             <label htmlFor=\"price\">Price</label>\r\n//             <input\r\n//               type=\"number\"\r\n//               name=\"price\"\r\n//               id=\"price\"\r\n//               value={editedProduct.price}\r\n//               onChange={handleInputChange}\r\n//               required\r\n//             />\r\n//           </div>\r\n\r\n//           <div className=\"form-group\">\r\n//             <label htmlFor=\"category\">Category</label>\r\n//             <select\r\n//               id=\"category\"\r\n//               name=\"category\"\r\n//               value={getCategory(editedProduct.gender)}\r\n//               onChange={handleInputChange}\r\n//               required\r\n//             >\r\n//               <option value=\"\">Select category</option>\r\n//               <option value=\"men\">Men</option>\r\n//               <option value=\"women\">Women</option>\r\n//               <option value=\"kids\">Kids</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"form-group\">\r\n//             <label htmlFor=\"description\">Description</label>\r\n//             <textarea\r\n//               id=\"description\"\r\n//               name=\"description\"\r\n//               rows=\"4\"\r\n//               value={editedProduct.description}\r\n//               onChange={handleInputChange}\r\n//               required\r\n//             ></textarea>\r\n//           </div>\r\n\r\n//           <div className=\"form-group\">\r\n//             <label htmlFor=\"discount\">Discount</label>\r\n//             <select\r\n//               id=\"discount\"\r\n//               name=\"discount\"\r\n//               value={editedProduct.discount}\r\n//               onChange={handleInputChange}\r\n//             >\r\n//               <option value=\"0\">No</option>\r\n//               <option value=\"5\">5%</option>\r\n//               <option value=\"10\">10%</option>\r\n//               <option value=\"20\">20%</option>\r\n//               <option value=\"30\">30%</option>\r\n//               <option value=\"40\">40%</option>\r\n//               <option value=\"50\">50%</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div className=\"form-group\">\r\n//             <label htmlFor=\"stock\">Stock</label>\r\n//             <input\r\n//               type=\"number\"\r\n//               name=\"stock\"\r\n//               id=\"stock\"\r\n//               value={editedProduct.stock}\r\n//               onChange={handleInputChange}\r\n//               required\r\n//             />\r\n//           </div>\r\n\r\n//           <div className=\"form-buttons\">\r\n//             <button\r\n//               type=\"submit\"\r\n//               className=\"btn primary\"\r\n//               disabled={loading}\r\n//             >\r\n//               {loading ? 'Updating...' : 'Update product'}\r\n//             </button>\r\n//             <button\r\n//               type=\"button\"\r\n//               className=\"btn cancel\"\r\n//               onClick={onClose}\r\n//             >\r\n//               Cancel\r\n//             </button>\r\n//           </div>\r\n//         </form>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default EditProductForm;\r\n\r\nimport React, { useState } from 'react';\r\nimport { updateProduct } from '../../services/productService';\r\n\r\nconst EditProductForm = ({ product, onClose, onProductUpdated }) => {\r\n  const [formData, setFormData] = useState({\r\n    id: product.id,\r\n    name: product.name || '',\r\n    price: product.price || 0,\r\n    gender: product.gender || '',\r\n    description: product.description || '',\r\n    discount: product.discount || 0,\r\n    image_url: product.image_url || './images/shops/shop-1.png',\r\n    size: product.size || 'M',\r\n    stock: product.stock || 10,\r\n    categoryId: product.categoryId || 2\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: name === 'price' || name === 'stock' || name === 'discount' \r\n        ? Number(value) : value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const updatedProduct = await updateProduct(product.id, formData);\r\n      onProductUpdated(updatedProduct);\r\n      onClose();\r\n    } catch (err) {\r\n      setError(`Failed to update product: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup-overlay\">\r\n      <div className=\"popup-content\">\r\n        <h2>Edit Product</h2>\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"edit-name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"edit-name\"\r\n              value={formData.name}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"edit-price\">Price</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              id=\"edit-price\"\r\n              value={formData.price}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"edit-gender\">Category</label>\r\n            <select\r\n              id=\"edit-gender\"\r\n              name=\"gender\"\r\n              value={formData.gender}\r\n              onChange={handleInputChange}\r\n              required\r\n            >\r\n              <option value=\"\">Select category</option>\r\n              <option value=\"men\">Men</option>\r\n              <option value=\"women\">Women</option>\r\n              <option value=\"kids\">Kids</option>\r\n              <option value=\"unisex\">Unisex</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"edit-description\">Description</label>\r\n            <textarea\r\n              id=\"edit-description\"\r\n              name=\"description\"\r\n              rows=\"4\"\r\n              value={formData.description}\r\n              onChange={handleInputChange}\r\n              required\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"edit-discount\">Discount</label>\r\n            <select\r\n              id=\"edit-discount\"\r\n              name=\"discount\"\r\n              value={formData.discount}\r\n              onChange={handleInputChange}\r\n            >\r\n              <option value=\"0\">No</option>\r\n              <option value=\"5\">5%</option>\r\n              <option value=\"10\">10%</option>\r\n              <option value=\"20\">20%</option>\r\n              <option value=\"30\">30%</option>\r\n              <option value=\"40\">40%</option>\r\n              <option value=\"50\">50%</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"edit-stock\">Stock</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"stock\"\r\n              id=\"edit-stock\"\r\n              value={formData.stock}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-buttons\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn primary\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Updating...' : 'Update product'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn cancel\"\r\n              onClick={onClose}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProductForm;"],"mappings":";AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,aAAa,QAAQ,+BAA+B;AAE7D,MAAMC,eAAe,GAAGA,CAAC;EAAEC,OAAO;EAAEC,OAAO;EAAEC;AAAiB,CAAC,KAAK;EAClE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC;IACvCQ,EAAE,EAAEL,OAAO,CAACK,EAAE;IACdC,IAAI,EAAEN,OAAO,CAACM,IAAI,IAAI,EAAE;IACxBC,K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","ignoreList":[]},"metadata":{},"sourceType":"module"}