{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\salah\\\\Downloads\\\\project - Copie\\\\src\\\\components\\\\Autentification\\\\logout.jsx\";\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AuthService from './authservice';\nimport './style.css';\nconst Logout = ({\n  history\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleLogout = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      await AuthService.logout();\n      history.replace('/signin');\n    } catch (error) {\n      console.error('Déconnexion échouée:', error);\n      setError('La déconnexion a échoué. Veuillez réessayer.');\n      // Même en cas d'erreur, on peut rediriger\n      history.replace('/signin');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    className: \"btn btn-sm btn-danger\",\n    style: {\n      fontSize: '0.7rem',\n      padding: '2px 6px',\n      whiteSpace: 'nowrap',\n      minWidth: 'max-content'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, loading ? '...' : 'Déconnexion');\n};\nexport default withRouter(Logout);","map":{"version":3,"names":["React","useState","withRouter","AuthService","Logout","history","loading","setLoading","error","setError","handleLogout","logout","replace","console","createElement","onClick","className","style","fontSize","padding","whiteSpace","minWidth","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/salah/Downloads/project - Copie/src/components/Autentification/logout.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport AuthService from './authservice';\r\nimport './style.css';\r\n\r\nconst Logout = ({ history }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleLogout = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await AuthService.logout();\r\n      history.replace('/signin');\r\n    } catch (error) {\r\n      console.error('Déconnexion échouée:', error);\r\n      setError('La déconnexion a échoué. Veuillez réessayer.');\r\n      // Même en cas d'erreur, on peut rediriger\r\n      history.replace('/signin');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button \r\n      onClick={handleLogout} \r\n      className=\"btn btn-sm btn-danger\"\r\n      style={{\r\n        fontSize: '0.7rem',\r\n        padding: '2px 6px',\r\n        whiteSpace: 'nowrap',\r\n        minWidth: 'max-content'\r\n      }}\r\n    >\r\n      {loading ? '...' : 'Déconnexion'}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default withRouter(Logout);"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAO,aAAa;AAEpB,MAAMC,MAAM,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAC9B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMS,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BH,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMN,WAAW,CAACQ,MAAM,CAAC,CAAC;MAC1BN,OAAO,CAACO,OAAO,CAAC,SAAS,CAAC;IAC5B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdK,OAAO,CAACL,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,QAAQ,CAAC,8CAA8C,CAAC;MACxD;MACAJ,OAAO,CAACO,OAAO,CAAC,SAAS,CAAC;IAC5B,CAAC,SAAS;MACRL,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEP,KAAA,CAAAc,aAAA;IACEC,OAAO,EAAEL,YAAa;IACtBM,SAAS,EAAC,uBAAuB;IACjCC,KAAK,EAAE;MACLC,QAAQ,EAAE,QAAQ;MAClBC,OAAO,EAAE,SAAS;MAClBC,UAAU,EAAE,QAAQ;MACpBC,QAAQ,EAAE;IACZ,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEDrB,OAAO,GAAG,KAAK,GAAG,aACb,CAAC;AAEb,CAAC;AAED,eAAeJ,UAAU,CAACE,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}