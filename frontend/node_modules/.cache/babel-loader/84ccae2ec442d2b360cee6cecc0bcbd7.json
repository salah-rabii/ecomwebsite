{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\salah\\\\Downloads\\\\project - Copie\\\\src\\\\components\\\\Autentification\\\\logout.jsx\";\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom'; // Use withRouter instead of useNavigate\nimport AuthService from './authservice';\nimport './style.css';\nconst Logout = ({\n  history\n}) => {\n  // Get history from props\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleLogout = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      await AuthService.logout();\n      history.replace('/signin'); // Use history.replace instead of navigate\n    } catch (error) {\n      console.error('Déconnexion échouée:', error);\n      setError('La déconnexion a échoué. Veuillez réessayer.');\n      // Même en cas d'erreur, on peut rediriger\n      history.replace('/signin'); // Use history.replace instead of navigate\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, error), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    className: \"btn btn-danger\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, loading ? 'Déconnexion en cours...' : 'Se déconnecter'));\n};\nexport default withRouter(Logout); // Wrap with withRouter","map":{"version":3,"names":["React","useState","withRouter","AuthService","Logout","history","loading","setLoading","error","setError","handleLogout","logout","replace","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled"],"sources":["C:/Users/salah/Downloads/project - Copie/src/components/Autentification/logout.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom'; // Use withRouter instead of useNavigate\r\nimport AuthService from './authservice';\r\nimport './style.css';\r\n\r\nconst Logout = ({ history }) => { // Get history from props\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleLogout = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await AuthService.logout();\r\n      history.replace('/signin'); // Use history.replace instead of navigate\r\n    } catch (error) {\r\n      console.error('Déconnexion échouée:', error);\r\n      setError('La déconnexion a échoué. Veuillez réessayer.');\r\n      // Même en cas d'erreur, on peut rediriger\r\n      history.replace('/signin'); // Use history.replace instead of navigate\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n      <button \r\n        onClick={handleLogout} \r\n        className=\"btn btn-danger\"\r\n        disabled={loading}\r\n      >\r\n        {loading ? 'Déconnexion en cours...' : 'Se déconnecter'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Logout); // Wrap with withRouter"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,UAAU,QAAQ,kBAAkB,CAAC,CAAC;AAC/C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAO,aAAa;AAEpB,MAAMC,MAAM,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAAE;EAChC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMS,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BH,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMN,WAAW,CAACQ,MAAM,CAAC,CAAC;MAC1BN,OAAO,CAACO,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdK,OAAO,CAACL,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,QAAQ,CAAC,8CAA8C,CAAC;MACxD;MACAJ,OAAO,CAACO,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;IAC9B,CAAC,SAAS;MACRL,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEP,KAAA,CAAAc,aAAA;IAAKC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAClBb,KAAK,iBAAIR,KAAA,CAAAc,aAAA;IAAKC,SAAS,EAAC,oBAAoB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEb,KAAW,CAAC,eAC3DR,KAAA,CAAAc,aAAA;IACEQ,OAAO,EAAEZ,YAAa;IACtBK,SAAS,EAAC,gBAAgB;IAC1BQ,QAAQ,EAAEjB,OAAQ;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEjBf,OAAO,GAAG,yBAAyB,GAAG,gBACjC,CACL,CAAC;AAEV,CAAC;AAED,eAAeJ,UAAU,CAACE,MAAM,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}